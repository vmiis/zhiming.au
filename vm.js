$vm.request=function(e){return new Promise((t,i)=>{fetch($vm.api_address,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{t(e)}).catch(e=>{i(e)})})},$vm.wiki_search=function(e){return new Promise((t,i)=>{fetch("https://en.wikipedia.org/w/api.php?action=query&srlimit=1&format=json&origin=*&list=search&srsearch="+e).then(e=>e.json()).then(e=>{t(e)}).catch(e=>{i(e)})})},$vm.wiki_title=function(e){return new Promise((t,i)=>{fetch("https://en.wikipedia.org/w/api.php?format=json&action=query&prop=extracts&exsentences=1&exintro&explaintext&redirects=1&origin=*&titles="+e).then(e=>e.json()).then(e=>{t(e)}).catch(e=>{i(e)})})},$vm.wiki_query=function(e){return new Promise((i,n)=>{$vm.wiki_search(e).then(e=>{var t;1==e.query.search.length?(t=e.query.search[0].pageid,$vm.wiki_title(e.query.search[0].title).then(e=>{i(e.query.pages[t].extract)}).catch(e=>{n(e)})):i("")}).catch(e=>{n(e)})})};